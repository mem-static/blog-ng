{"componentChunkName":"component---src-templates-post-js","path":"/course/dd/note/6/","result":{"data":{"site":{"siteMetadata":{"title":"mem 的小站"}},"post":{"id":"81dd95b1-55f3-56d9-9a8c-8ce51495fde0","excerpt":"本篇笔记详细介绍了寄存器及其传输操作的基本概念，包括寄存器的结构、控制信号的作用、寄存器传输语言（RTL）的使用，以及不同类型的寄存器和计数器的设计方法。内容涵盖了并行加载、双向移位、计数器的工作原理及其设计注意事项，最后探讨了基于多路选择器的设计方法和时序电路的设计方法。（由 gpt-4o-mini 生成摘要）","html":"<blockquote>\n<p>本篇笔记详细介绍了寄存器及其传输操作的基本概念，包括寄存器的结构、控制信号的作用、寄存器传输语言（RTL）的使用，以及不同类型的寄存器和计数器的设计方法。内容涵盖了并行加载、双向移位、计数器的工作原理及其设计注意事项，最后探讨了基于多路选择器的设计方法和时序电路的设计方法。<small style=\"font-style: italic; opacity: 0.5\">（由 gpt-4o-mini 生成摘要）</small></p>\n</blockquote>\n<!-- more -->\n<h2 id=\"anchor-48efef20a2b09c3e\" style=\"position: relative;\"><a href=\"#anchor-48efef20a2b09c3e\" aria-label=\"anchor 48efef20a2b09c3e permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 寄存器 Registers</h2>\n<p>一个 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 位的寄存器包含 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 个触发器，还有若干组合电路来实现特定功能，如移位、计数等。</p>\n<p>一般通过一个 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Load</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span></span> 信号来控制寄存器，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Load</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span></span> 信号一般通过更高阶的电路控制。可以把 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Load</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span></span> 信号和 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">Clock</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">Cl</span><span class=\"mord mathnormal\">oc</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span> 信号的 AND 来作为触发器的控制信号：</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">Load=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> 表示 <strong>载入(load)</strong>，新数据被写入寄存器。</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">Load=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></span> 表示 <strong>储存(store)</strong>，寄存器保持已经写入的数据。</li>\n</ul>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/SFJK7MOd.png\"alt=\"SFJK7MOd.png\" style=\"width: 496px; \" ></p>\n<p><details open disabled class=\"callout callout-type-warning\"><summary> <strong>时钟偏斜(clock skew)</strong></summary><div class=\"callout-content\"><p></p><p>如果给时钟信号加上一个非门，那么不同触发器的控制信号的时间存在一个非门的延时。</p><p>一种解决方案是时钟信号直接接到所有触发器的控制信号上，但触发器的输入信号接一个 2-to-1 MUX，根据控制信号选择是加载触发器的输出，还是从输入流中加载。</p><p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/PZ5h7mei.png\"alt=\"\" style=\"width: 550px; \" ></p></div></details></p>\n<p>如果载入操作在同一个时钟脉冲中完成，我们称之是<strong>并行(parallel)</strong> 的。</p>\n<h2 id=\"anchor-8021d41b730d89a5\" style=\"position: relative;\"><a href=\"#anchor-8021d41b730d89a5\" aria-label=\"anchor 8021d41b730d89a5 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 寄存器传输操作 Register Transfer Operations</h2>\n<p><strong>寄存器传输操作(register transfer operation)</strong>：处理存储在寄存器中的数据的操作。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/CPBN1eDH.png\"alt=\"CPBN1eDH.png\" style=\"width: 517px; \" ></p>\n<p><strong>微操作(microoperation)</strong>：关于寄存器传输的初级操作，包括 load/count/shift/add/bitwise OR 等等。</p>\n<h3 id=\"anchor-026b9ff68f6404c3\" style=\"position: relative;\"><a href=\"#anchor-026b9ff68f6404c3\" aria-label=\"anchor 026b9ff68f6404c3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 寄存器传输语言 Register Transfer Language</h3>\n<p><strong>寄存器传输语言(register transfer language, RTL)</strong> 用来表述寄存器传输操作。</p>\n<ul>\n<li>字母和数字：表示寄存器</li>\n<li>小括号：表示位的范围（如 <code class=\"language-text\">R(1)</code>、<code class=\"language-text\">PC(7:0)</code>）</li>\n<li>箭头：表示数据的传输（如 <code class=\"language-text\">R1 &lt;- R2</code>)</li>\n<li>逗号：用于分开多次操作</li>\n<li>方括号：（可通过寄存器）指定内存地址（如 <code class=\"language-text\">R0 &lt;- M[AR]</code>）</li>\n<li><strong>条件传输(conditional transfer)</strong>：如 <code class=\"language-text\">K1: (R2 &lt;- R1)</code> 表示当 <code class=\"language-text\">K1</code> 寄存器的值为 1 时执行 <code class=\"language-text\">R2 &lt;- R1</code>。</li>\n</ul>\n<p><details  class=\"callout callout-type-note\"><summary> 关于寄存器传输操作的硬件描述语言的比较</summary><div class=\"callout-content\"><p></p><p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/cOaKwRmC.png\"alt=\"\" style=\"width: 600px; \" ></p></div></details></p>\n<p>如用 RTL 来描述一个加减法器的行为（<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>X</mtext><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\text X=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">X</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></span> 时加法，<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>X</mtext><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">\\text X= 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">X</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> 时减法）：</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mover accent=\"true\"><mtext>X</mtext><mo stretchy=\"true\">‾</mo></mover><mtext> K1</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>:</mo><mtext>R1</mtext><mo>←</mo><mtext>R1</mtext><mo>+</mo><mtext>R2</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mtext>X K1</mtext></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>:</mo><mtext>R1</mtext><mo>←</mo><mtext>R1</mtext><mo>+</mo><mover accent=\"true\"><mtext>R2</mtext><mo stretchy=\"true\">‾</mo></mover><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{aligned}\n\\overline{\\text{X}}\\ \\text{K1}&#x26;: \\text{R1} \\leftarrow \\text{R1} + \\text{R2}\\\\\n\\text{X}\\ \\text{K1} &#x26;: \\text{R1} \\leftarrow \\text{R1} + \\overline{\\text{R2}} + 1\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.0867em;vertical-align:-1.2933em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7933em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord overline\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8833em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">X</span></span></span></span><span style=\"top:-3.8033em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span></span></span></span><span class=\"mspace\"> </span><span class=\"mord text\"><span class=\"mord\">K1</span></span></span></span><span style=\"top:-2.3667em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">X</span></span><span class=\"mspace\"> </span><span class=\"mord text\"><span class=\"mord\">K1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2933em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.7933em;\"><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">R1</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">←</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">R1</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">R2</span></span></span></span><span style=\"top:-2.3667em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">R1</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">←</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">R1</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord overline\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8833em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">R2</span></span></span></span><span style=\"top:-3.8033em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2933em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<h3 id=\"anchor-fb6d3d294e75ce38\" style=\"position: relative;\"><a href=\"#anchor-fb6d3d294e75ce38\" aria-label=\"anchor fb6d3d294e75ce38 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. 数据传输结构 Register Transfer Structures</h3>\n<h4 id=\"anchor-b4935a63d7748cfa\" style=\"position: relative;\"><a href=\"#anchor-b4935a63d7748cfa\" aria-label=\"anchor b4935a63d7748cfa permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2.1. 基于多路选择器的传输 Multiplexer-Based Transfers</h4>\n<p>多个输入通过一个多路选择器进行选择，从而给到目标寄存器中。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/YWD6lMjz.png\"alt=\"YWD6lMjz.png\" style=\"width: 415px; \" ></p>\n<h4 id=\"anchor-7617589b26ee9dbd\" style=\"position: relative;\"><a href=\"#anchor-7617589b26ee9dbd\" aria-label=\"anchor 7617589b26ee9dbd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2.2. 基于专有的多路选择器的传输 Dedicated MUX-Based Transfers</h4>\n<p>这里<strong>专有的(dedicated)</strong> 的 MUX 的意思是说，每个寄存器的输入都通过一个独立的 MUX 进行选择。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/SXBI8Gww.png\"alt=\"SXBI8Gww.png\" style=\"width: 344px; \" ></p>\n<ul>\n<li>PROS：可以实现在一个时钟节拍中同时的数据传输。</li>\n<li>CONS：门输入代价高。\n<ul>\n<li>GN 的计算：MUX 的反相器是可以共享的，每一个 MUX 里需要两个 2 输入与门和一个 2 输入或门，共 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi><mi>N</mi><mo>=</mo><mn>3</mn><mo>×</mo><mn>6</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>21</mn></mrow><annotation encoding=\"application/x-tex\">GN = 3 \\times 6 + 3 = 21</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">GN</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">21</span></span></span></span></span>。</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"anchor-9ccdf387e832b24b\" style=\"position: relative;\"><a href=\"#anchor-9ccdf387e832b24b\" aria-label=\"anchor 9ccdf387e832b24b permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2.3. 多路选择器总线 Multiplexer Bus</h4>\n<p><strong>总线(bus)</strong> 的主要思想在于让多个寄存器共享一个多路选择器和数据传输路径，把这个多路选择器称作是<strong>共享的(shared)</strong>。\n<img src=\"https://static.memset0.cn/img/v6/2024/06/13/vmPTRYOb.png\"alt=\"vmPTRYOb.png\" style=\"width: 426px; \" ></p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/dWamWDYH.png\"alt=\"dWamWDYH.png\" style=\"width: 321px; \" ></p>\n<h4 id=\"anchor-04b16cc1baf3b9b7\" style=\"position: relative;\"><a href=\"#anchor-04b16cc1baf3b9b7\" aria-label=\"anchor 04b16cc1baf3b9b7 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2.4. 三态门总线 Three-State Bus</h4>\n<p>三台总线的实现需要用到<strong>三态门(tri-state gate)</strong>，因为其可以输出高阻态，从而使得来自多个寄存器的输出可以直接连起来而不需要逻辑门或 MUX 的控制。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/MhJmWI1e.png\"alt=\"MhJmWI1e.png\" style=\"width: 458px; \" ></p>\n<h2 id=\"anchor-ecd96039d61b4f5c\" style=\"position: relative;\"><a href=\"#anchor-ecd96039d61b4f5c\" aria-label=\"anchor ecd96039d61b4f5c permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 移位寄存器 Shift Registers</h2>\n<p>一个普通的<strong>移位寄存器(shift register)</strong> 如下：</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/GWS45J0I.png\"alt=\"GWS45J0I.png\" style=\"width: 428px; \" ></p>\n<ul>\n<li><strong>串行输入(serial input)</strong>：<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>In</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{In}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">In</span></span></span></span></span></span>。</li>\n<li><strong>串行输出(serial output)</strong>：<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Out</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{Out}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">Out</span></span></span></span></span></span>。</li>\n<li><strong>并行输出(parallel output)</strong>：<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>A</mtext></mrow><annotation encoding=\"application/x-tex\">\\text A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">A</span></span></span></span></span></span>、<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>B</mtext></mrow><annotation encoding=\"application/x-tex\">\\text B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">B</span></span></span></span></span></span>、<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>C</mtext></mrow><annotation encoding=\"application/x-tex\">\\text C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">C</span></span></span></span></span></span>、<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Out</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{Out}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">Out</span></span></span></span></span></span>。</li>\n</ul>\n<h3 id=\"anchor-09c632c0a595d757\" style=\"position: relative;\"><a href=\"#anchor-09c632c0a595d757\" aria-label=\"anchor 09c632c0a595d757 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. 并行加载移位寄存器 Parallel Load Shift Register</h3>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/yE3R4xpn.png\"alt=\"yE3R4xpn.png\" style=\"width: 406px; \" ></p>\n<p>通过给输入信号加一个 2-to-1 MUX 可以实现并行加载功能，这样在 SHIFT 为 0 时，移位寄存器 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>B</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{A,B\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">A</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">}</span></span></span></span></span> 会直接从 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>D</mi><mi>A</mi></msub><mo separator=\"true\">,</mo><msub><mi>D</mi><mi>B</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{D_A, D_B\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span></span> 加载数据，并且这一加载过程在同一时间发生（是并行的）。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/aUweTYxa.png\"alt=\"aUweTYxa.png\" style=\"width: 499px; \" ></p>\n<p>如果需要支持<strong>保持(hold)</strong> 功能，可以换成 3-to-1 MUX，并接一路从自己这来的输出，功能表如下：</p>\n<table>\n<thead>\n<tr>\n<th>Shift</th>\n<th>Load</th>\n<th>Operation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>保持 no change</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>加载 load</td>\n</tr>\n<tr>\n<td>1</td>\n<td>x</td>\n<td>移位 shift down</td>\n</tr>\n</tbody>\n</table>\n<p>注意，实现保持功能时，我们不能直接给时钟信号 CP 加一个与门，这样的话与门的延迟同样会导致上文提到过的<strong>时钟歪斜(clock skew)</strong> 问题。</p>\n<h3 id=\"anchor-fdf95136b811dc6e\" style=\"position: relative;\"><a href=\"#anchor-fdf95136b811dc6e\" aria-label=\"anchor fdf95136b811dc6e permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2. 双向移位寄存器 Bidirectional Shift Registers</h3>\n<p>再换用 4-to-1 MUX 可以让我们的移位寄存器同时支持两个方向的移位操作，电路的一部分如下图所示。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/r45GWNkA.png\"alt=\"r45GWNkA.png\" style=\"width: 307px; \" ></p>\n<p>其功能表如下（<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_1,S_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 为控制信号）：</p>\n<table>\n<thead>\n<tr>\n<th><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></th>\n<th><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">S_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span></th>\n<th>Operation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>保持 no change</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>向下移位 shift down</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>向上移位 shift up</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>平行加载 parallel load</td>\n</tr>\n</tbody>\n</table>\n<p>如果需要让移位寄存器支持更多功能，更换 MUX 并设计相应电路即可。</p>\n<h2 id=\"anchor-fd7b6b506c56b96d\" style=\"position: relative;\"><a href=\"#anchor-fd7b6b506c56b96d\" aria-label=\"anchor fd7b6b506c56b96d permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 计数器 Counters</h2>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/zNJtJh5M.png\"alt=\"zNJtJh5M.png\" style=\"width: 453px; \" ></p>\n<h3 id=\"anchor-18447ff43c332ef9\" style=\"position: relative;\"><a href=\"#anchor-18447ff43c332ef9\" aria-label=\"anchor 18447ff43c332ef9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1. 纹波计数器 Ripple Counter</h3>\n<p>触发器 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>A</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 把时钟信号作为控制信号 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mi>R</mi></msub></mrow><annotation encoding=\"application/x-tex\">C_R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span>，其反转频率是时钟信号的一半；<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>B</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 把 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>A</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 的输出作为控制信号，其反转频率是 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi>A</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> 的一半，是时钟信号的四分之一。从而实现计数器的功能。</p>\n<ul>\n<li><strong>最低有效位(LSB)</strong></li>\n<li><strong>最高有效位(MSB)</strong></li>\n</ul>\n<p>从最低有效位开始计数，低位触发器的输出作为更高一位触发器的控制信号。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/05/16/q5pDrDSj.png\"alt=\"q5pDrDSj.png\" style=\"width: 298px; \" ></p>\n<p>时延计算：分析是上升沿还是下降沿，或者直接 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>p</mi><mi>d</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{pd}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9012em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span></span>。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/4BXhdNoW.png\"alt=\"4BXhdNoW.png\" style=\"width: 498px; \" ></p>\n<h3 id=\"anchor-a5c78f8fc8bfc967\" style=\"position: relative;\"><a href=\"#anchor-a5c78f8fc8bfc967\" aria-label=\"anchor a5c78f8fc8bfc967 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.2. 同步计数器 Synchronous Counters</h3>\n<p>触发器只用来保存状态，计数的功能用组合电路（<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 位计数器只需要 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 个半加器）实现。所有触发器同步改变。</p>\n<ul>\n<li><strong>计数使能(count enable = CE)</strong>：控制是否进行计数，当 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>CE</mtext><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">\\text{CE} = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">CE</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span></span> 且边沿到来时进行一次计数，当 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>CE</mtext><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\text{CE} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">CE</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></span> 时处于保持状态。</li>\n<li><strong>进位输出(carry output = CO)</strong>：给出最高的进位作为输出，可以指示计数器是否达到上界。</li>\n</ul>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/HkSwHtKj.png\"alt=\"HkSwHtKj.png\" style=\"width: 547px; \" ></p>\n<p>类似于加法器，我们也可以在并行计数器中实现提前进位：</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/p1gE6i6d.png\"alt=\"p1gE6i6d.png\" style=\"width: 482px; \" ></p>\n<h3 id=\"anchor-6f816b2e604b3d54\" style=\"position: relative;\"><a href=\"#anchor-6f816b2e604b3d54\" aria-label=\"anchor 6f816b2e604b3d54 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.3. 支持平行加载的计数器 Counter with Parallel Load</h3>\n<p>通过一个 2-to-1 MUX 控制是从 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>D</mtext></mrow><annotation encoding=\"application/x-tex\">\\text D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">D</span></span></span></span></span></span> 中并行加载还是从组合逻辑中加载。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/k3YE7pPN.png\"alt=\"k3YE7pPN.png\" style=\"width: 499px; \" ></p>\n<h3 id=\"anchor-04e30fb10cd2d76d\" style=\"position: relative;\"><a href=\"#anchor-04e30fb10cd2d76d\" aria-label=\"anchor 04e30fb10cd2d76d permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.4. 模 N 的计数器 Counting Modulo N</h3>\n<p>我们以设计模 10 的计数器（BCD 计数器为例），那么只有 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span></span> 到 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">9</span></span></span></span></span> 是<strong>有效的(valid)</strong>，剩下的 6 个状态都是未使用的状态。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/5yHkPXH1.png\"alt=\"5yHkPXH1.png\" style=\"width: 398px; \" ></p>\n<p>写出状态转移的激励方程，并通过卡诺图化简，可以得到我们需要的组合逻辑。</p>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/j0dWfJp0.png\"alt=\"j0dWfJp0.png\" style=\"width: 446px; \" ></p>\n<p>需要注意的是，虽然剩余 6 个状态是未使用状态，但是如果计数器因为意外处于未使用状态时，他的下一状态是确定的，画图可知我们设计的这一计数器在有限步后又会回到有效状态（称为自恢复能力；并非对于所有计数器都成立后，最好设计成这样的）。我们也可以设计一个 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Error</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{Error}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">Error</span></span></span></span></span></span> 输出，用于指示是否进入了未使用状态，同样可用卡诺图进行化简。</p>\n<p>不推荐的设计（自杀式计数器）：让模 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 的计数器在输出变成 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> 时直接给所有寄存器异步清零。如果异步清零过程的时延不同，可能“卡在”中间的任意有效状态，非常不稳定。</p>\n<h2 id=\"anchor-b598ee480827287e\" style=\"position: relative;\"><a href=\"#anchor-b598ee480827287e\" aria-label=\"anchor b598ee480827287e permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 寄存器单元设计</h2>\n<h3 id=\"anchor-6975dd84cacbfac9\" style=\"position: relative;\"><a href=\"#anchor-6975dd84cacbfac9\" aria-label=\"anchor 6975dd84cacbfac9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.1. 基于 MUX 的设计方法 Multiplexer Approach</h3>\n<ul>\n<li>\n<p><strong>寄存器功能(register functions)</strong>：可以通过寄存器传输语言 RTL 来描述。</p>\n</li>\n<li>\n<p><strong>控制输入(control inputs)</strong>：输入控制信号，控制信号的可以是<strong>编码的(encoded)</strong> 或未编码的。</p>\n</li>\n</ul>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/btfn5DDT.png\"alt=\"btfn5DDT.png\" style=\"width: 428px; \" ></p>\n<ul>\n<li><strong>数据输入(date inputs)</strong>：从寄存器中输入。</li>\n</ul>\n<p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/Ds1gYGUj.png\"alt=\"\" ></p>\n<p><details open disabled class=\"callout callout-type-quote\"><summary> Example</summary><div class=\"callout-content\"><p></p><p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/cQwlfOFm.png\"alt=\"cQwlfOFm.png\" style=\"width: 464px; \" ></p></div></details></p>\n<h3 id=\"anchor-1d0ec2915da4293b\" style=\"position: relative;\"><a href=\"#anchor-1d0ec2915da4293b\" aria-label=\"anchor 1d0ec2915da4293b permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.2. 基于时序电路的设计方法 Sequential Circuit Design Approach</h3>\n<p>这里状态本身就是输出，所以一定是摩尔型电路。使用时序电路的相关方法进行设计，虽然结果更优但设计过程非常麻烦。</p>\n<p><details open disabled class=\"callout callout-type-quote\"><summary> Example</summary><div class=\"callout-content\"><p></p><p><img src=\"https://static.memset0.cn/img/v6/2024/06/13/35GGfbrf.png\"alt=\"\" style=\"width: 430px; \" ></p></div></details></p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#anchor-48efef20a2b09c3e\">1. 寄存器 Registers</a></p>\n</li>\n<li>\n<p><a href=\"#anchor-8021d41b730d89a5\">2. 寄存器传输操作 Register Transfer Operations</a></p>\n<ul>\n<li><a href=\"#anchor-026b9ff68f6404c3\">2.1. 寄存器传输语言 Register Transfer Language</a></li>\n<li><a href=\"#anchor-fb6d3d294e75ce38\">2.2. 数据传输结构 Register Transfer Structures</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#anchor-ecd96039d61b4f5c\">3. 移位寄存器 Shift Registers</a></p>\n<ul>\n<li><a href=\"#anchor-09c632c0a595d757\">3.1. 并行加载移位寄存器 Parallel Load Shift Register</a></li>\n<li><a href=\"#anchor-fdf95136b811dc6e\">3.2. 双向移位寄存器 Bidirectional Shift Registers</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#anchor-fd7b6b506c56b96d\">4. 计数器 Counters</a></p>\n<ul>\n<li><a href=\"#anchor-18447ff43c332ef9\">4.1. 纹波计数器 Ripple Counter</a></li>\n<li><a href=\"#anchor-a5c78f8fc8bfc967\">4.2. 同步计数器 Synchronous Counters</a></li>\n<li><a href=\"#anchor-6f816b2e604b3d54\">4.3. 支持平行加载的计数器 Counter with Parallel Load</a></li>\n<li><a href=\"#anchor-04e30fb10cd2d76d\">4.4. 模 N 的计数器 Counting Modulo N</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#anchor-b598ee480827287e\">5. 寄存器单元设计</a></p>\n<ul>\n<li><a href=\"#anchor-6975dd84cacbfac9\">5.1. 基于 MUX 的设计方法 Multiplexer Approach</a></li>\n<li><a href=\"#anchor-1d0ec2915da4293b\">5.2. 基于时序电路的设计方法 Sequential Circuit Design Approach</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Ch6 Registers & Register Transfers","date":"2024 年 06 月 18 日","description":null},"fields":{"cover":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#081828","images":{"fallback":{"src":"/static/09f96b8d8890c671e95186feccb60eb5/47d1a/qViL4XCD.png","srcSet":"/static/09f96b8d8890c671e95186feccb60eb5/d875c/qViL4XCD.png 244w,\n/static/09f96b8d8890c671e95186feccb60eb5/378c7/qViL4XCD.png 488w,\n/static/09f96b8d8890c671e95186feccb60eb5/47d1a/qViL4XCD.png 976w","sizes":"(min-width: 976px) 976px, 100vw"},"sources":[{"srcSet":"/static/09f96b8d8890c671e95186feccb60eb5/2f531/qViL4XCD.webp 244w,\n/static/09f96b8d8890c671e95186feccb60eb5/83997/qViL4XCD.webp 488w,\n/static/09f96b8d8890c671e95186feccb60eb5/56bde/qViL4XCD.webp 976w","type":"image/webp","sizes":"(min-width: 976px) 976px, 100vw"}]},"width":976,"height":598}}},"slug":"/course/dd/note/6/","isDoc":true,"category":"[{\"name\":\"课程笔记\",\"to\":\"/course/\"}]","propsJson":null}},"previous":{"fields":{"slug":"/course/dm/note/8/"},"frontmatter":{"title":"Ch11 Tree"}},"next":{"fields":{"slug":"/course/ads/note/3/"},"frontmatter":{"title":"Classic Algorithms"}}},"pageContext":{"id":"81dd95b1-55f3-56d9-9a8c-8ce51495fde0","previousPostId":"6afc80c2-0efe-548e-9366-5e51daa5e2cf","nextPostId":"37a52659-ec66-5012-b0ee-cf31b51ccf76","navJson":"[{\"slug\":\"/course/dd\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/index.md\",\"title\":\"Intro\"},{\"title\":\"Notes\",\"children\":[{\"slug\":\"/course/dd/note/1\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/note/1.md\",\"title\":\"Ch1 Digital Systems and Information\"},{\"slug\":\"/course/dd/note/2\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/note/2.md\",\"title\":\"Ch2 Combinational Logic Circuits\"},{\"slug\":\"/course/dd/note/3\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/note/3.md\",\"title\":\"Ch3 Combinational Logic Design\"},{\"slug\":\"/course/dd/note/4\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/note/4.md\",\"title\":\"Ch4 Sequential Circuits\"},{\"slug\":\"/course/dd/note/6\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/note/6.md\",\"title\":\"Ch6 Registers & Register Transfers\"}]},{\"title\":\"Quizzes\",\"children\":[{\"slug\":\"/course/dd/quiz/1\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/quiz/1.md\",\"title\":\"Quiz #1 (Ch1-Ch3)\"}]},{\"title\":\"Tools & Tutorials\",\"children\":[{\"slug\":\"/course/dd/tool/logisim\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/tool/logisim.md\",\"title\":\"Logisim Evolution\"},{\"slug\":\"/course/dd/tool/vivado\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/tool/vivado.md\",\"title\":\"Vivado\"},{\"slug\":\"/course/dd/tool/verilog\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/dd/tool/verilog.md\",\"title\":\"Verilog\"}]}]"}},"staticQueryHashes":[],"slicesMap":{}}