{"componentChunkName":"component---src-templates-post-js","path":"/course/fasm/note/1/","result":{"data":{"site":{"siteMetadata":{"title":"mem 的小站"}},"post":{"id":"7f31d61b-6dca-5170-8f75-b3af10e27dc1","excerpt":"1. 汇编程序的结构 一个汇编语言程序的框架如下： 用  建立段地址和段寄存器的关联，这并不会真的修改段寄存器的值，而会帮助编译器在编译源程序时把变量或标号的段地址替换成关联的段寄存器。 2. 编译与运行 略。 3. 调试 3.1. 使用 debug 调试 R 指令：查看、改变 CPU 寄存器的内容 D…","html":"<h2 id=\"anchor-005d194c55f3c75f\" style=\"position: relative;\">1. 汇编程序的结构<a href=\"#anchor-005d194c55f3c75f\" aria-label=\"anchor 005d194c55f3c75f permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>一个汇编语言程序的框架如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"armasm\"><pre class=\"language-armasm\"><code class=\"language-armasm\"><span class=\"token number\">.386</span>  <span class=\"token comment\">; 表示每个段默认使用32位偏移宽度</span>\ndata segment use16  <span class=\"token comment\">; 表示端内偏移地址宽度是16位</span>\n  变量、数组定义...\ndata ends\ncode segment use16\n\tassume cs:code<span class=\"token punctuation\">,</span> ds:data\nmain:\n\tmov ax<span class=\"token punctuation\">,</span> data\n\tmov dx<span class=\"token punctuation\">,</span> ax\n  程序主体...\n\tmov ah<span class=\"token punctuation\">,</span> 4ch\n\tmov al<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>   <span class=\"token comment\">; 这里AL寄存器的值表示程序返回码</span>\n\tint 21h     <span class=\"token comment\">; 调用int21h中断，在AH=4Ch时对应的功能是结束程序</span>\ncode ends\nend main <span class=\"token comment\">; 指定程序首条指令的位置</span></code></pre></div>\n<ul>\n<li>用 <code class=\"language-text\">assume</code> 建立段地址和段寄存器的关联，这并不会真的修改段寄存器的值，而会帮助编译器在编译源程序时把变量或标号的段地址替换成关联的段寄存器。</li>\n</ul>\n<h2 id=\"anchor-f811721959d15df0\" style=\"position: relative;\">2. 编译与运行<a href=\"#anchor-f811721959d15df0\" aria-label=\"anchor f811721959d15df0 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>略。</p>\n<h2 id=\"anchor-caa447a98783d351\" style=\"position: relative;\">3. 调试<a href=\"#anchor-caa447a98783d351\" aria-label=\"anchor caa447a98783d351 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"anchor-7399a50679038f50\" style=\"position: relative;\">3.1. 使用 debug 调试<a href=\"#anchor-7399a50679038f50\" aria-label=\"anchor 7399a50679038f50 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>R 指令：查看、改变 CPU 寄存器的内容</li>\n<li>D 指令：查看内存中的内容</li>\n<li>T 指令：执行一条机器指令</li>\n<li>G 指令：从停顿的地方运行到底</li>\n</ul>\n<h3 id=\"anchor-c4d976648f656302\" style=\"position: relative;\">3.2. 使用 Turbo Debug 调试<a href=\"#anchor-c4d976648f656302\" aria-label=\"anchor c4d976648f656302 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>需要使用 tasm 编译，tlink 链接：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">tasm /zi hello<span class=\"token punctuation\">;</span>\ntlink /v/s hello<span class=\"token punctuation\">;</span>\ntd hello</code></pre></div>\n<p>常用快捷键如下：</p>\n<ul>\n<li>F7 单步执行（带跟踪）</li>\n<li>F8 单步执行（不带跟踪）</li>\n</ul>\n<h3 id=\"anchor-f1e6e762ac200481\" style=\"position: relative;\">3.3. 使用 soft-ice 调试<a href=\"#anchor-f1e6e762ac200481\" aria-label=\"anchor f1e6e762ac200481 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<h2 id=\"anchor-c9267468fde1d335\" style=\"position: relative;\">4. 其他基础知识<a href=\"#anchor-c9267468fde1d335\" aria-label=\"anchor c9267468fde1d335 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"anchor-f67956d3cdd539c7\" style=\"position: relative;\">4.1. 常用中断 <code class=\"language-text\">int 21h</code><a href=\"#anchor-f67956d3cdd539c7\" aria-label=\"anchor f67956d3cdd539c7 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>中断表（中文）参见： <a href=\"https://blog.csdn.net/Zach_z/article/details/78576216\">https://blog.csdn.net/Zach_z/article/details/78576216</a> 。</p>\n<table>\n<thead>\n<tr>\n<th>AH</th>\n<th>功能</th>\n<th>调用参数</th>\n<th>返回参数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>00</td>\n<td>程序终止</td>\n<td>CS=程序段前缀</td>\n<td></td>\n</tr>\n<tr>\n<td>01</td>\n<td>键盘输入并回显</td>\n<td></td>\n<td>AL=输入字符</td>\n</tr>\n<tr>\n<td>02</td>\n<td>显示输出</td>\n<td>DL=输出字符</td>\n<td></td>\n</tr>\n<tr>\n<td>09</td>\n<td>显示字符串，</td>\n<td>DS:DX=字符串地址</td>\n<td></td>\n</tr>\n<tr>\n<td>4C</td>\n<td>带返回码结束</td>\n<td>AL=返回码</td>\n<td></td>\n</tr>\n</tbody>\n</table>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#anchor-005d194c55f3c75f\">1. 汇编程序的结构</a></p>\n</li>\n<li>\n<p><a href=\"#anchor-f811721959d15df0\">2. 编译与运行</a></p>\n</li>\n<li>\n<p><a href=\"#anchor-caa447a98783d351\">3. 调试</a></p>\n<ul>\n<li><a href=\"#anchor-7399a50679038f50\">3.1. 使用 debug 调试</a></li>\n<li><a href=\"#anchor-c4d976648f656302\">3.2. 使用 Turbo Debug 调试</a></li>\n<li><a href=\"#anchor-f1e6e762ac200481\">3.3. 使用 soft-ice 调试</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#anchor-c9267468fde1d335\">4. 其他基础知识</a></p>\n<ul>\n<li><a href=\"#anchor-f67956d3cdd539c7\">4.1. 常用中断 <code class=\"language-text\">int 21h</code></a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"I 汇编语言入门","date":null,"description":null},"fields":{"cover":null,"slug":"/course/fasm/note/1/","isDoc":true,"category":"[{\"name\":\"课程笔记\",\"to\":\"/course/\"}]","propsJson":null}},"previous":null,"next":null},"pageContext":{"id":"7f31d61b-6dca-5170-8f75-b3af10e27dc1","previousPostId":null,"nextPostId":null,"navJson":"[{\"slug\":\"/course/fasm\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/index.md\",\"title\":\"课程简介\"},{\"title\":\"笔记\",\"children\":[{\"slug\":\"/course/fasm/note/1\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/note/1.md\",\"title\":\"I 汇编语言入门\"},{\"slug\":\"/course/fasm/note/2\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/note/2.md\",\"title\":\"II 数据的表示与运算\"},{\"slug\":\"/course/fasm/note/3\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/note/3.md\",\"title\":\"III CPU、内存和端口\"},{\"slug\":\"/course/fasm/note/4\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/note/4.md\",\"title\":\"IV 8086指令系统\"},{\"slug\":\"/course/fasm/note/5\",\"file\":\"/home/runner/work/gatsby-blog/gatsby-blog/content/course/fasm/note/5.md\",\"title\":\"V 汇编语言进阶\"}]}]"}},"staticQueryHashes":[],"slicesMap":{}}